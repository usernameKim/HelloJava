<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<form>
	시도: <input type="text" id="sido">
	<button id="findBtn">찾기</button>
	</form>
	<div id="show">
		<table border="1">
			<thead>
				<tr><th>센터id</th><th>센터명</th><th>연락처</th></tr>
			</thead>
			<tbody id="list">
				
			</tbody>
		</table>
	</div>
	<script>
	let url = 'https://api.odcloud.kr/api/15077586/v1/centers?page=1&perPage=284&returnType=JSON&serviceKey=i4nbKclGfuZkK28%2F8jpHPhUTCcwQRKj7FLqEd%2BMySW1SU8Yj6ryJ0%2BQqLJNefRb70eXs3wsCWrPOaS%2BuSAJiBA%3D%3D';
	
	fetch(url)
		.then(result => result.json()) // json -> object 
		.then(showList)
		.catch(error => console.log(error));
	
	function showList(result){
		console.log(result)
		let tbody = document.querySelector('#list');
		result.data.forEach(center => tbody.append(makeTr(center)));
	}
	function makeTr(center){
		let fields = ['id', 'centerName', 'phoneNumber'];
		
		let tr = document.createElement('tr');
		for(let field of fields){
		
			let td = document.createElement('td');
			let txt = document.createTextNode(center[field]);
			
			td.append(txt);
			tr.append(td);
		}
		return tr;
	}
	function loadDataCallback(){
		 console.log(this.responseText);
		 let obj = JSON.parse(this.responseText);
		 document.getElementById('list').append(makeTr(center));
	}
	</script>
</body>
</html>